{"ast":null,"code":"import _toConsumableArray from\"D:\\\\Documents\\\\Field-Benders-Website-Re\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:\\\\Documents\\\\Field-Benders-Website-Re\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{FETCH_ALL,FETCH_BY_SEARCH,FETCH_BY_CREATOR,FETCH_POST,CREATE,UPDATE,DELETE,LIKE,COMMENT}from'../constants/actionTypes';export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{isLoading:true,posts:[]};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'START_LOADING':console.log('POST REDUCERS: STARTED LOADING');return _objectSpread(_objectSpread({},state),{},{isLoading:true});case'END_LOADING':console.log('POST REDUCERS: ENDED LOADING');return _objectSpread(_objectSpread({},state),{},{isLoading:false});case FETCH_ALL:return _objectSpread(_objectSpread({},state),{},{posts:action.payload.data,currentPage:action.payload.currentPage,numberOfPages:action.payload.numberOfPages});case FETCH_BY_SEARCH:case FETCH_BY_CREATOR:return _objectSpread(_objectSpread({},state),{},{posts:action.payload.data});case FETCH_POST:return _objectSpread(_objectSpread({},state),{},{post:action.payload.post});case LIKE:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){return post._id===action.payload._id?action.payload:post;})});case COMMENT:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){if(post._id==+action.payload._id){return action.payload;}return post;})});case CREATE:return _objectSpread(_objectSpread({},state),{},{posts:[].concat(_toConsumableArray(state.posts),[action.payload])});case UPDATE:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){return post._id===action.payload._id?action.payload:post;})});case DELETE:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.filter(function(post){return post._id!==action.payload;})});default:return state;}});","map":{"version":3,"names":["FETCH_ALL","FETCH_BY_SEARCH","FETCH_BY_CREATOR","FETCH_POST","CREATE","UPDATE","DELETE","LIKE","COMMENT","state","isLoading","posts","action","type","console","log","payload","data","currentPage","numberOfPages","post","map","_id","filter"],"sources":["D:/Documents/Field-Benders-Website-Re/client/src/reducers/posts.js"],"sourcesContent":["import { FETCH_ALL, FETCH_BY_SEARCH, FETCH_BY_CREATOR, FETCH_POST, CREATE, UPDATE, DELETE, LIKE, COMMENT } from '../constants/actionTypes';\r\n\r\nexport default (state = { isLoading: true, posts: [] }, action) => {\r\n  switch (action.type) {\r\n    case 'START_LOADING':\r\n      console.log('POST REDUCERS: STARTED LOADING');\r\n      return { ...state, isLoading: true };\r\n    case 'END_LOADING':\r\n      console.log('POST REDUCERS: ENDED LOADING');\r\n      return { ...state, isLoading: false };\r\n    case FETCH_ALL:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.data,\r\n        currentPage: action.payload.currentPage,\r\n        numberOfPages: action.payload.numberOfPages,\r\n      };\r\n    case FETCH_BY_SEARCH:\r\n    case FETCH_BY_CREATOR:\r\n      return { ...state, posts: action.payload.data };\r\n    case FETCH_POST:\r\n      return { ...state, post: action.payload.post };\r\n    case LIKE:\r\n      return { ...state, posts: state.posts.map((post) => (post._id === action.payload._id ? action.payload : post)) };\r\n    case COMMENT:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map((post) => {\r\n          if (post._id == +action.payload._id) {\r\n            return action.payload;\r\n          }\r\n          return post;\r\n        }),\r\n      };\r\n    case CREATE:\r\n      return { ...state, posts: [...state.posts, action.payload] };\r\n    case UPDATE:\r\n      return { ...state, posts: state.posts.map((post) => (post._id === action.payload._id ? action.payload : post)) };\r\n    case DELETE:\r\n      return { ...state, posts: state.posts.filter((post) => post._id !== action.payload) };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n"],"mappings":"6VAAA,OAASA,SAAS,CAAEC,eAAe,CAAEC,gBAAgB,CAAEC,UAAU,CAAEC,MAAM,CAAEC,MAAM,CAAEC,MAAM,CAAEC,IAAI,CAAEC,OAAO,KAAQ,0BAA0B,CAE1I,eAAe,UAAoD,IAAnDC,MAAK,2DAAG,CAAEC,SAAS,CAAE,IAAI,CAAEC,KAAK,CAAE,EAAG,CAAC,IAAEC,OAAM,2CAC5D,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,eAAe,CAClBC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC,CAC7C,sCAAYN,KAAK,MAAEC,SAAS,CAAE,IAAI,GACpC,IAAK,aAAa,CAChBI,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC,CAC3C,sCAAYN,KAAK,MAAEC,SAAS,CAAE,KAAK,GACrC,IAAKV,UAAS,CACZ,sCACKS,KAAK,MACRE,KAAK,CAAEC,MAAM,CAACI,OAAO,CAACC,IAAI,CAC1BC,WAAW,CAAEN,MAAM,CAACI,OAAO,CAACE,WAAW,CACvCC,aAAa,CAAEP,MAAM,CAACI,OAAO,CAACG,aAAa,GAE/C,IAAKlB,gBAAe,CACpB,IAAKC,iBAAgB,CACnB,sCAAYO,KAAK,MAAEE,KAAK,CAAEC,MAAM,CAACI,OAAO,CAACC,IAAI,GAC/C,IAAKd,WAAU,CACb,sCAAYM,KAAK,MAAEW,IAAI,CAAER,MAAM,CAACI,OAAO,CAACI,IAAI,GAC9C,IAAKb,KAAI,CACP,sCAAYE,KAAK,MAAEE,KAAK,CAAEF,KAAK,CAACE,KAAK,CAACU,GAAG,CAAC,SAACD,IAAI,QAAMA,KAAI,CAACE,GAAG,GAAKV,MAAM,CAACI,OAAO,CAACM,GAAG,CAAGV,MAAM,CAACI,OAAO,CAAGI,IAAI,EAAC,CAAC,GAChH,IAAKZ,QAAO,CACV,sCACKC,KAAK,MACRE,KAAK,CAAEF,KAAK,CAACE,KAAK,CAACU,GAAG,CAAC,SAACD,IAAI,CAAK,CAC/B,GAAIA,IAAI,CAACE,GAAG,EAAI,CAACV,MAAM,CAACI,OAAO,CAACM,GAAG,CAAE,CACnC,MAAOV,OAAM,CAACI,OAAO,CACvB,CACA,MAAOI,KAAI,CACb,CAAC,CAAC,GAEN,IAAKhB,OAAM,CACT,sCAAYK,KAAK,MAAEE,KAAK,8BAAMF,KAAK,CAACE,KAAK,GAAEC,MAAM,CAACI,OAAO,EAAC,GAC5D,IAAKX,OAAM,CACT,sCAAYI,KAAK,MAAEE,KAAK,CAAEF,KAAK,CAACE,KAAK,CAACU,GAAG,CAAC,SAACD,IAAI,QAAMA,KAAI,CAACE,GAAG,GAAKV,MAAM,CAACI,OAAO,CAACM,GAAG,CAAGV,MAAM,CAACI,OAAO,CAAGI,IAAI,EAAC,CAAC,GAChH,IAAKd,OAAM,CACT,sCAAYG,KAAK,MAAEE,KAAK,CAAEF,KAAK,CAACE,KAAK,CAACY,MAAM,CAAC,SAACH,IAAI,QAAKA,KAAI,CAACE,GAAG,GAAKV,MAAM,CAACI,OAAO,GAAC,GACrF,QACE,MAAOP,MAAK,CAAC,CAEnB,CAAC"},"metadata":{},"sourceType":"module"}